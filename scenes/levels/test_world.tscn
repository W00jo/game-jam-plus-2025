[gd_scene load_steps=15 format=3 uid="uid://dy4q4lk1onlnd"]

[ext_resource type="PackedScene" uid="uid://batnu0uma6vhk" path="res://scenes/npc/enemies/gostek.tscn" id="1_7c366"]
[ext_resource type="Script" path="res://scenes/levels/viewport_container_player_1.gd" id="2_ho4vq"]
[ext_resource type="PackedScene" uid="uid://cnmr4bnng8r7b" path="res://scenes/npc/enemies/stalker.tscn" id="3_35d48"]
[ext_resource type="PackedScene" uid="uid://dwullwuqebjtc" path="res://scenes/players/player_shooter/player_shooter.tscn" id="3_dubqp"]
[ext_resource type="PackedScene" uid="uid://dmrwwjnwxvabd" path="res://scenes/ui/hud/hud.tscn" id="4_35d48"]
[ext_resource type="PackedScene" uid="uid://bhw4djmtivvo2" path="res://scenes/npc/passive/citizen.tscn" id="4_ho4vq"]
[ext_resource type="PackedScene" uid="uid://8kdpemwib222" path="res://scenes/players/player_looter/player_looter.tscn" id="5_m2j1u"]
[ext_resource type="PackedScene" uid="uid://cendlct4ehhly" path="res://scenes/enviroment/landmine/landmine.tscn" id="6_k4tkr"]
[ext_resource type="PackedScene" uid="uid://bft4ip0s201gd" path="res://scenes/enviroment/collectible/collectible.tscn" id="7_junah"]
[ext_resource type="PackedScene" uid="uid://14ts8ibs7115" path="res://scenes/ui/menu/pause_menu.tscn" id="8_kqya4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_xqnsq"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_tsias"]
sky_material = SubResource("ProceduralSkyMaterial_xqnsq")

[sub_resource type="Environment" id="Environment_7k8c1"]
background_mode = 2
sky = SubResource("Sky_tsias")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_0lift"]
vertices = PackedVector3Array(-6, 0.4995, -14, -5.25, 0.4995, -14.25, -5.25, 0.4995, -15.5, -15.5, 0.4995, -15.5, -5.25, 0.4995, -10.25, -5.25, 0.4995, -13, -6, 0.4995, -13.25, -6.25, 0.4995, -10, -15.5, 0.4995, -5.75, -6.25, 0.4995, -6.25, -5.75, 0.4995, -6, -4.75, 0.4995, -14, -4.75, 0.4995, -13.25, -2.25, 0.4995, -10, 15.5, 0.4995, -15.5, 11.5, 0.4995, -15, 10.75, 0.4995, -13.75, 10.5, 0.4995, -14.75, 11.75, 0.4995, -14, -2.25, 0.4995, -6.25, -4.5, 0.4995, 15.5, 15.5, 0.4995, 15.5, -4.5, 0.4995, -6, -5.25, 5.2495, -9.25, -5.25, 5.2495, -7, -3.25, 5.2495, -7, -3.25, 5.2495, -9.25, -5, 0.4995, -9, -5, 0.4995, -7.25, -3.5, 0.4995, -7.25, -3.5, 0.4995, -9, -15.5, 0.4995, 15.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(7, 9, 8), PackedInt32Array(6, 7, 0), PackedInt32Array(0, 7, 3), PackedInt32Array(3, 7, 8), PackedInt32Array(9, 10, 8), PackedInt32Array(11, 1, 2), PackedInt32Array(5, 12, 4), PackedInt32Array(4, 12, 13), PackedInt32Array(15, 2, 14), PackedInt32Array(13, 12, 11), PackedInt32Array(11, 2, 13), PackedInt32Array(13, 2, 17), PackedInt32Array(13, 17, 16), PackedInt32Array(18, 15, 14), PackedInt32Array(16, 18, 13), PackedInt32Array(13, 18, 19), PackedInt32Array(18, 14, 19), PackedInt32Array(19, 14, 20), PackedInt32Array(20, 14, 21), PackedInt32Array(20, 22, 19), PackedInt32Array(15, 17, 2), PackedInt32Array(26, 25, 23), PackedInt32Array(23, 25, 24), PackedInt32Array(30, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(10, 22, 8), PackedInt32Array(8, 22, 31), PackedInt32Array(31, 22, 20)]
agent_radius = 0.4

[node name="TestWorld" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7k8c1")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_0lift")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
use_collision = true
collision_layer = 2
size = Vector3(32, 0.001, 32)

[node name="Gostek" parent="NavigationRegion3D" instance=ExtResource("1_7c366")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.072009, 1.2014427, -14.306542)
player_path = NodePath("../../GridContainer/Viewport_container_player2/Viewport_player2/Player2")

[node name="Skeleton3D" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002" index="0"]
bones/1/rotation = Quaternion(-0.049993135, -0.0028665983, 0.0010996432, 0.99874485)
bones/2/rotation = Quaternion(-0.0036235023, -0.020631945, 0.0005912355, 0.9997804)
bones/3/rotation = Quaternion(-0.00371785, -0.02060559, 0.00053765136, 0.99978065)
bones/4/rotation = Quaternion(0.030129077, 0.01893391, -0.019861996, 0.99916935)
bones/5/rotation = Quaternion(0.06581484, -0.0044629825, 0.014664466, 0.99771416)
bones/7/rotation = Quaternion(-0.45927882, -0.5197301, 0.5810993, -0.425755)
bones/8/rotation = Quaternion(0.5272013, 0.13685514, 0.034004923, 0.83795774)
bones/9/rotation = Quaternion(0.03482199, 0.00058718503, 0.26634932, 0.96324724)
bones/10/rotation = Quaternion(0.10398026, 0.92629606, 0.13319775, -0.33678195)
bones/11/rotation = Quaternion(-0.048720557, -0.13006954, -0.4412292, 0.8865806)
bones/12/rotation = Quaternion(-0.053097337, 0.009015273, 0.4941116, 0.86772877)
bones/13/rotation = Quaternion(0.013434834, -0.016341267, -0.01948572, 0.9995863)
bones/15/rotation = Quaternion(-0.1715544, -0.12265585, -0.08575431, 0.9737407)
bones/16/rotation = Quaternion(-0.2513054, -0.009936713, 0.04169669, 0.9669583)
bones/17/rotation = Quaternion(-0.09711459, 0.0062170066, 0.0028773693, 0.9952497)
bones/19/rotation = Quaternion(0.49742278, -0.5029953, 0.5095674, 0.48980346)
bones/20/rotation = Quaternion(0.5721929, -0.13931909, -0.07877076, 0.8043511)
bones/21/rotation = Quaternion(0.030756915, -0.0006104205, -0.23589651, 0.9712911)
bones/22/rotation = Quaternion(-0.11299619, 0.89979684, 0.032320242, 0.42018196)
bones/23/rotation = Quaternion(-0.12235097, 0.0033922258, 0.37264967, 0.9198647)
bones/24/rotation = Quaternion(-0.028669171, -0.014494577, -0.32463717, 0.945293)
bones/25/rotation = Quaternion(0.026381027, 0.023681212, -0.0072588217, 0.9993451)
bones/27/rotation = Quaternion(-0.11638102, 0.06063352, 0.0024686896, 0.99134916)
bones/28/rotation = Quaternion(-0.25440273, -0.009070869, 0.1704378, 0.9519181)
bones/29/rotation = Quaternion(-0.057713762, 0.005861046, 0.047717508, 0.997175)
bones/31/rotation = Quaternion(0.04380711, 0.0814437, 0.994897, -0.040345762)
bones/32/rotation = Quaternion(-0.17804942, -0.07831236, 0.014808673, 0.9807887)
bones/33/rotation = Quaternion(0.5166223, 0.05189372, -0.07753149, 0.85111535)
bones/34/rotation = Quaternion(0.32710952, 0.07518334, -0.025854966, 0.9416361)
bones/36/rotation = Quaternion(-0.10738812, 0.094600774, 0.989158, 0.032938745)
bones/37/rotation = Quaternion(-0.18692727, 0.050964177, -0.0025665958, 0.9810476)
bones/38/rotation = Quaternion(0.5142869, -0.01930383, 0.038669355, 0.85652846)
bones/39/rotation = Quaternion(0.32708883, -0.07477931, 0.025730891, 0.9416788)

[node name="Head" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="2"]
transform = Transform3D(0.9980625, -0.004852262, -0.062030107, 0.062219605, 0.07787828, 0.99501944, 2.7085189e-06, -0.99695086, 0.07802926, 0.07903576, -2.9507036, -82.962166)

[node name="Torso" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="3"]
transform = Transform3D(0.99998116, -0.0019099053, -0.0058359494, 0.0056160516, -0.09986707, 0.99498487, -0.0024831463, -0.9949989, -0.09985446, 0, -1.1473308, -55.17752)

[node name="LeftArm" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="4"]
transform = Transform3D(0.092921086, 0.34405112, -0.93434155, -0.9947475, -0.008378863, -0.102013916, -0.04292664, 0.9389133, 0.34146532, 10.79922, -4.026184, -75.56782)

[node name="LeftForeArm" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="5"]
transform = Transform3D(0.24001598, 0.18375354, -0.953219, -0.8596848, 0.49633926, -0.120784424, 0.45092574, 0.84845793, 0.27709943, 16.520445, -4.165516, -59.954628)

[node name="LeftHand" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="6"]
transform = Transform3D(-0.78260463, 0.07257199, 0.6182743, 0.6184565, 0.20391703, 0.7588999, -0.071002066, 0.9762938, -0.20446932, 20.447443, 6.4417677, -41.82221)

[node name="RightArm" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="7"]
transform = Transform3D(0.17900497, -0.3101942, 0.93366843, 0.9836855, 0.039172694, -0.17558004, 0.017889522, 0.9498657, 0.3121457, -10.947757, -4.657049, -76.03857)

[node name="RightForeArm" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="8"]
transform = Transform3D(0.28879893, -0.1370089, 0.9475355, 0.8585933, 0.47493315, -0.19301753, -0.42357087, 0.86929107, 0.25479522, -16.10205, -4.0061417, -60.255264)

[node name="RightHand" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="9"]
transform = Transform3D(-0.8787148, -0.23465861, -0.41568685, -0.4698092, 0.27100226, 0.840141, -0.08449443, 0.9335378, -0.34837854, -19.02887, 6.1395025, -41.685234)

[node name="LeftUpLeg" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="10"]
transform = Transform3D(-0.99290645, 0.08741538, 0.080595315, 0.09373895, 0.15852131, 0.98289573, 0.07314413, 0.9834783, -0.16559105, 5.9848366, -0.46329382, -46.648655)

[node name="LeftLeg" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="11"]
transform = Transform3D(-0.9633597, 0.05465234, 0.26258647, 0.24737862, -0.19727139, 0.9486242, 0.10364535, 0.97882426, 0.17652345, 8.530739, 4.1535125, -18.005638)

[node name="LeftFoot" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="12"]
transform = Transform3D(-0.9951028, 0.07483517, 0.06457797, 0.09873977, 0.78291184, 0.6142467, -0.004591536, 0.617615, -0.7864668, 10.160095, -1.7277594, 11.176147)

[node name="BoneAttachment3D4" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="13"]
transform = Transform3D(-0.97476566, -0.08548124, -0.20621556, -0.21867973, 0.18007576, 0.95903695, -0.044845253, 0.97993135, -0.19422469, -5.9848366, -0.35910308, -46.648655)

[node name="BoneAttachment3D5" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="14"]
transform = Transform3D(-0.94720715, 0.009844638, -0.32047135, -0.31685895, -0.18144166, 0.93095624, -0.048981927, 0.9833523, 0.17498219, -8.474442, 4.8855267, -18.10857)

[node name="BoneAttachment3D6" parent="NavigationRegion3D/Gostek/MonsterAnimation/Armature_002/Skeleton3D" index="15"]
transform = Transform3D(-0.9665557, -0.19569723, -0.16574848, -0.25627828, 0.7611463, 0.5957999, 0.009562417, 0.6183515, -0.7858431, -8.180887, -0.52482986, 11.213728)

[node name="Citizen" parent="NavigationRegion3D" instance=ExtResource("4_ho4vq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.402817, 1.4587977, -13.740158)

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4371958, 0.43066406, 4.4706244)
use_collision = true
collision_layer = 2
size = Vector3(2.819336, 1.8613281, 2.4384766)

[node name="Stalker" parent="NavigationRegion3D" instance=ExtResource("3_35d48")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.283595, -12.875873)
player_path = NodePath("../../GridContainer/Viewport_container_player1/Viewport_player1/Player1")

[node name="GridContainer" type="GridContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
columns = 2

[node name="Viewport_container_player1" type="SubViewportContainer" parent="GridContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
script = ExtResource("2_ho4vq")

[node name="Viewport_player1" type="SubViewport" parent="GridContainer/Viewport_container_player1"]
handle_input_locally = false
size = Vector2i(574, 648)
render_target_update_mode = 4

[node name="Player1" parent="GridContainer/Viewport_container_player1/Viewport_player1" instance=ExtResource("3_dubqp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4905853, 1.4881334, -9.479806)

[node name="player_shooter" parent="GridContainer/Viewport_container_player1/Viewport_player1/Player1" index="0"]
transform = Transform3D(-0.4, 0, -6.039832e-08, 0, 0.4, 0, 6.039832e-08, 0, -0.4, 0, 0.039340854, -0.5550003)

[node name="Skeleton3D" parent="GridContainer/Viewport_container_player1/Viewport_player1/Player1/player_shooter/Armature" index="0"]
bones/0/position = Vector3(0.23736954, 0.49406695, 27.062729)
bones/0/rotation = Quaternion(-0.70710677, 0, 0, 0.70710677)
bones/1/position = Vector3(1.4901161e-08, 12.865718, -0.4851441)
bones/1/rotation = Quaternion(-0.0188441, 0, 0, 0.99982244)
bones/2/position = Vector3(0, 15.020668, 5.401671e-08)
bones/2/rotation = Quaternion(0, 0, 0, 1)
bones/3/position = Vector3(-1.4901161e-08, 17.166487, 5.9604645e-08)
bones/3/rotation = Quaternion(8.381904e-09, 0, 0, 1)
bones/4/position = Vector3(-1.4901161e-08, 19.312288, 5.9604645e-08)
bones/4/rotation = Quaternion(0.018844089, 0, 0, 0.99982244)
bones/5/position = Vector3(1.4901161e-08, 18.201683, -0.6913489)
bones/5/rotation = Quaternion(1.9274182e-09, 0, 0, 1)
bones/6/position = Vector3(1.4901161e-08, 61.804565, -2.3475044)
bones/7/position = Vector3(12.499369, 19.086472, 0.026146948)
bones/7/rotation = Quaternion(0.51297694, 0.48712274, -0.51214916, 0.48710302)
bones/8/position = Vector3(-6.3329935e-08, 25.627813, 7.450581e-09)
bones/8/rotation = Quaternion(0.22685868, 0.07617154, -0.017800286, 0.9707812)
bones/9/position = Vector3(2.9802322e-08, 18.2046, 4.172325e-06)
bones/9/rotation = Quaternion(-0.19048749, -0.67390305, 0.19416869, 0.6869263)
bones/10/position = Vector3(-2.5629997e-06, 33.19635, 8.34465e-07)
bones/10/rotation = Quaternion(0.1888941, 0.003105099, 0.016140297, 0.9818599)
bones/11/position = Vector3(1.9297004e-06, 6.7882547, -1.7881393e-07)
bones/11/rotation = Quaternion(0.009464893, 0.95929533, -0.28038234, 0.03238281)
bones/12/position = Vector3(-2.719462e-06, 8.855082, 1.1920929e-06)
bones/12/rotation = Quaternion(-4.0745352e-10, 2.095476e-08, -7.613562e-08, 1)
bones/13/position = Vector3(-1.6073358, 13.037425, -2.2261996)
bones/13/rotation = Quaternion(4.481991e-09, -4.1909516e-09, 2.817251e-08, 1)
bones/14/position = Vector3(0.6229526, 7.723935, -1.7064793)
bones/15/position = Vector3(-12.499369, 19.089083, -0.0430786)
bones/15/rotation = Quaternion(0.5115189, -0.48847142, 0.51350546, 0.48585626)
bones/16/position = Vector3(3.2782555e-07, 25.627811, 3.97861e-06)
bones/16/rotation = Quaternion(0.22640894, -0.060483914, 0.014087825, 0.97205055)
bones/17/position = Vector3(-6.7055225e-08, 18.196535, 3.516674e-06)
bones/17/rotation = Quaternion(-0.18804559, 0.66622514, -0.19603121, 0.6945176)
bones/18/position = Vector3(3.427267e-07, 33.19918, -2.3841858e-07)
bones/18/rotation = Quaternion(0.1091275, -0.002301274, -0.02095682, 0.99380416)
bones/19/position = Vector3(-1.8626451e-07, 9.575456, -1.7881393e-07)
bones/19/rotation = Quaternion(-0.19499758, -0.009751241, 0.04898343, 0.9795312)
bones/20/position = Vector3(-5.9604645e-07, 8.095271, 3.5762787e-07)
bones/20/rotation = Quaternion(-9.924406e-09, 1.4959369e-08, -4.5634806e-08, 1)
bones/21/position = Vector3(-0.9632362, 11.672995, 2.4296088)
bones/21/rotation = Quaternion(2.910383e-09, 2.4097972e-08, 7.962808e-08, 1)
bones/22/position = Vector3(0.36699957, 6.3664684, 2.1806312)
bones/23/rotation = Quaternion(-0.00012833865, -0.0034032902, 0.9992759, -0.03789565)
bones/24/position = Vector3(-1.3883691e-06, 48.20243, -3.88809e-08)
bones/24/rotation = Quaternion(0.023691954, -0.0004642185, -0.019652681, 0.999526)
bones/25/position = Vector3(-1.8569408e-06, 47.806236, -1.8253922e-07)
bones/25/rotation = Quaternion(0.33837596, 0.25434756, -0.09552717, 0.9009348)
bones/26/position = Vector3(-5.722046e-06, 25.23705, 9.536743e-07)
bones/26/rotation = Quaternion(0.41340458, -0.12471163, 0.05727468, 0.90014625)
bones/27/position = Vector3(-3.8146973e-06, 10.201346, -4.184246e-05)
bones/28/rotation = Quaternion(0.00026764264, -0.007091044, 0.9992567, 0.037891988)
bones/29/position = Vector3(-1.3434328e-07, 48.20615, -5.273978e-08)
bones/29/rotation = Quaternion(0.03592535, 0.00070253405, 0.019631395, 0.9991614)
bones/30/position = Vector3(-9.797513e-07, 47.8462, -9.872019e-07)
bones/30/rotation = Quaternion(0.32998452, -0.2613867, 0.09562087, 0.90202206)
bones/31/position = Vector3(-9.536743e-07, 25.171446, -1.2874603e-05)
bones/31/rotation = Quaternion(0.41435564, 0.1406045, -0.06496073, 0.89683884)
bones/32/position = Vector3(-4.7683716e-06, 10.606727, 2.7418137e-05)

[node name="HUD" parent="GridContainer/Viewport_container_player1/Viewport_player1/Player1" instance=ExtResource("4_35d48")]

[node name="Viewport_container_player2" type="SubViewportContainer" parent="GridContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="Viewport_player2" type="SubViewport" parent="GridContainer/Viewport_container_player2"]
handle_input_locally = false
size = Vector2i(574, 648)
render_target_update_mode = 4

[node name="Player2" parent="GridContainer/Viewport_container_player2/Viewport_player2" instance=ExtResource("5_m2j1u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.9127426, 1.4844105, 4.693651)
visible = false

[node name="HUD" parent="GridContainer/Viewport_container_player2/Viewport_player2/Player2" instance=ExtResource("4_35d48")]
player_hud_type = 1

[node name="Landmine" parent="." instance=ExtResource("6_k4tkr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13, 0.5048461, -4)

[node name="Collectibles" type="Node" parent="."]

[node name="Collectible" parent="Collectibles" instance=ExtResource("7_junah")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.757, 1.2, -4.916)

[node name="Collectible2" parent="Collectibles" instance=ExtResource("7_junah")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.9259977, 1.2, -4.916)

[node name="PauseMenu" parent="." instance=ExtResource("8_kqya4")]
visible = false

[editable path="NavigationRegion3D/Gostek"]
[editable path="NavigationRegion3D/Gostek/MonsterAnimation"]
[editable path="GridContainer/Viewport_container_player1/Viewport_player1/Player1"]
[editable path="GridContainer/Viewport_container_player1/Viewport_player1/Player1/player_shooter"]
